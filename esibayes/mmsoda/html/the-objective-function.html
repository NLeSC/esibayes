<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

<head>

   <title>MMSODA Toolbox for MATLAB - The objective function</title>

   <meta name="keywords" content="objective function">

   <meta name="description" content="objective function">

   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

   <meta name="robots" content="index, follow">

   <meta author="Jurriaan H. Spaaks">

   <link type="text/css" rel="stylesheet" href="styles/soda-styles.css">

</head>



<body>
<a name="_top"></a>


<div class="linkheader">
<a href="matlab:web(fullfile(sodaroot,'html','contents.html'),'-helpbrowser')">Toolbox contents</a>
</div>

<div class="spacer">
</div>



<div class="h1">
The objective function
</div>

<div class="h2">
Syntax
</div>

<div class="txt">
<span style="font-family:monospace"><span class="keyword">function</span> objScore = <i>&lt;calcLikelihood&gt;</i>(conf,constants,modelOutput,parVec)
</span>
</div>

<div class="h2">
Description
</div>

<div class="txt">

<span style="font-family:monospace"><span class="keyword">function</span> objScore = <i>&lt;calcLikelihood&gt;</i>(conf,constants,modelOutput,parVec)
</span>

</div>
<div class = "txt">
<p>
When constructing the objective function, make sure to strictly adhere to the format as displayed above; only the name of the function itself (here: <span style="font-family:monospace"><i>&lt;calcLikelihood&gt;</i></span>) may be different. The table <a href="#_the_objective_function">below</a> lists the meaning of the input and output variables. The reason behind this strictness is that the optimization algorithm prepares these variables and then constructs the call to the objective function at runtime. Also, the <a href="matlab: web(fullfile(sodaroot,'html','sodaUnpack.html'),'-helpbrowser')"><span style="font-family:monospace">sodaUnpack()</span></a> function call, that is typically found on the second line of the objective function, expects the variables <span style="font-family:monospace">conf</span>, <span style="font-family:monospace">constants</span>, <span style="font-family:monospace">modelOutput</span>, and <span style="font-family:monospace">parVec</span> to be present in the objective function workspace.
</p>


</div>

<div class = "txt">


<a name="_the_objective_function"></a>
<table>
<tr>
    <td valign="top" nowrap><b>Argument</b></td>
    <td valign="top"><b>Description</b></td>
</tr>
<tr>
    <td valign="top"><span style="font-family:monospace">objScore</span></td>
    <td valign="top"><p>Scalar double output argument, containing the log-likelihood score for single-objective optimization, or just any type of objective score for multi-objective optimization.</p></td>
</tr>
<tr>
    <td valign="top"><span style="font-family:monospace">conf</span></td>
    <td valign="top"><p>1x1 struct argument, in which your MMSODA configuration variables have been collected, using the information from the './results/conf.mat' file as well as the default settings from the file indicated by <span style="font-family:monospace">conf.useIniFile</span>.</p></td>
</tr>
<tr>
    <td valign="top"><span style="font-family:monospace">constants</span></td>
    <td valign="top"><p>1x1 struct argument, in which the model constants have been collected, using the information from './data/constants.mat'.</p></td>
</tr>
<tr>
    <td valign="top"><span style="font-family:monospace">modelOutput</span></td>
    <td valign="top">
        <p>
            If <span style="font-family:monospace">modeStr</span> is equal to <span style="font-family:monospace"><span class="string">'bypass'</span></span>, there is no dynamic model, hence the input argument <span style="font-family:monospace">modelOutput</span> is empty.
        </p>
        <p>
            If <span style="font-family:monospace">modeStr</span> is equal to <span style="font-family:monospace"><span class="string">'scemua'</span></span>, input argument <span style="font-family:monospace">modelOutput</span> is of size <span style="font-family:monospace">conf.nOutputs x conf.nPrior</span> and of class double, containing the model outputs for all time steps listed in <span style="font-family:monospace">conf.priorTimes</span>.
        </p>
        <p>
            If <span style="font-family:monospace">modeStr</span> is equal to <span style="font-family:monospace"><span class="string">'reset'</span></span> or <span style="font-family:monospace"><span class="string">'soda'</span></span>, input argument <span style="font-family:monospace">modelOutput</span> is of size <span style="font-family:monospace">(conf.nStatesKF + conf.nNOKF) x conf.nPrior x conf.nMembers</span> and of class double, containing the model outputs for all time steps listed in <span style="font-family:monospace">conf.priorTimes</span>, and for all ensemble members.
        </p>

    </td>
</tr>
<tr>
    <td valign="top"><span style="font-family:monospace">parVec</span></td>
    <td valign="top"><p>Input argument of size <span style="font-family:monospace">1 x conf.nOptPars</span> and class double, containing the parameter combination that MMSODA sampled from the parameter space.</p></td>
</tr>

</table>

</div>






<div class="footer">
</div>

<div class="spacer">
</div>

<a name="_bottom"></a>

</body>

</html>
