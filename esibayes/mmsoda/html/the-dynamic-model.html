<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

<head>

   <title>MMSODA Toolbox for MATLAB - The dynamic model</title>

   <meta name="keywords" content="The dynamic model">

   <meta name="description" content="The dynamic model">

   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

   <meta name="robots" content="index, follow">

   <meta author="Jurriaan H. Spaaks">

   <link type="text/css" rel="stylesheet" href="styles/soda-styles.css">

</head>



<body>
<a name="_top"></a>


<div class="linkheader">
<a href="matlab:web(fullfile(sodaroot,'html','contents.html'),'-helpbrowser')">Toolbox contents</a>
</div>

<div class="spacer">
</div>



<div class="h1">
The dynamic model
</div>

<div class="h2">
Syntax
</div>

<div class="txt">
<span style="font-family:monospace"><span class="keyword">function</span>
[stateValuesKFNew,valuesNOKFNew] = <i>&lt;modelname&gt;</i>(conf,constants,stateValuesKFOld,valuesNOKFOld,parVec,priorTimes)</span>
</div>

<div class="h2">
Description
</div>

<div class="txt">

<span style="font-family:monospace"><span class="keyword">function</span>
[stateValuesKFNew,valuesNOKFNew] = <i>&lt;modelname&gt;</i>(conf,constants,stateValuesKFOld,valuesNOKFOld,parVec,priorTimes)</span>

</div>
<div class = "txt">
<p>
When constructing the dynamic model function, make sure to strictly adhere to the format as displayed above; only the name of the function itself (here: <span style="font-family:monospace"><i>&lt;modelname&gt;</i></span>) may be different. The table <a href="#_the_dynamic_model"> below</a> lists the meaning of the input and output variables. The reason behind this strictness is that the optimization algorithm prepares these variables and then constructs the call to the main model function at runtime. Also, the <a href="matlab: web(fullfile(sodaroot,'html','sodaUnpack.html'),'-helpbrowser')"><span style:"font-family:monospace">sodaUnpack()</span></a> function call, that is typically found on the second line of the main model function, expects the variables <span style:"font-family:monospace">conf</span>, <span style:"font-family:monospace">constants</span>, <span style:"font-family:monospace">stateValuesKFOld</span>, <span style:"font-family:monospace">valuesNOKFOld</span>, and <span style:"font-family:monospace">parVec</span> to be present in the main model function workspace.
</p>


</div>

<div class = "txt">

<a id="_the_dynamic_model"></a>
<table>
<tr>
    <td valign="top" nowrap><b>Argument</b></td>
    <td valign="top"><b>Description</b></td>
</tr>
<tr>
    <td valign="top"><pre>stateValuesKFNew</pre></td>
    <td valign="top"><p>Output argument of size <span style="font-family:monospace">conf.nStatesKF x conf.nPrior</span> and of class double, containing the model predicted values of the Ensemble Kalman Filter state variables at time = <span style="font-family:monospace">priorTimes(end)</span>.</p></td>
</tr>
<tr>
    <td valign="top"><pre>valuesNOKFNew</pre></td>
    <td valign="top"><p>Output argument of size <span style="font-family:monospace">conf.nNOKF x conf.nPrior</span> and of class double, containing the model predicted values of Non-Ensemble Kalman Filter variables, at time = <span style="font-family:monospace">priorTimes(end)</span>.</p></td>
</tr>
<tr>
    <td valign="top"><pre>conf</pre></td>
    <td valign="top"><p>1x1 struct argument, in which your MMSODA configuration variables have been collected, using the information from the './results/conf.mat' file as well as the default settings from the file indicated by <span style="font-family:monospace">conf.useIniFile</span>.</p></td>
</tr>
<tr>
    <td valign="top"><pre>constants</pre></td>
    <td valign="top"><p>1x1 struct argument, in which the model constants have been collected, using the information from './data/constants.mat'.</p></td>
</tr>
<tr>
    <td valign="top"><pre>stateValuesKFOld</pre></td>
    <td valign="top"><p>Input argument of size <span style="font-family:monospace">conf.nStatesKF x conf.nPrior</span> and of class double, containing the values of the current Ensemble Kalman Filter member for all Ensemble Kalman Filter states for all time steps listed in <span style="font-family:monospace">priorTimes</span>. </p></td>
</tr>
<tr>
    <td valign="top"><pre>valuesNOKFOld</pre></td>
    <td valign="top"><p>Input argument of size <span style="font-family:monospace">conf.nNOKF x conf.nPrior</span> and of class double, containing the values of the current Ensemble Kalman Filter member for all Non-Ensemble Kalman Filter variables for all time steps listed in <span style="font-family:monospace">priorTimes</span>. </p></td>
</tr>
<tr>
    <td valign="top"><pre>parVec</pre></td>
    <td valign="top"><p>Input argument of size <span style="font-family:monospace">1 x conf.nOptPars</span> and class double, containing the parameter combination that MMSODA sampled from the parameter space.</p></td>
</tr><tr>
    <td valign="top"><pre>priorTimes</pre></td>
    <td valign="top"><p>Input argument of size <span style="font-family:monospace">1 x conf.nPrior</span> and class double, containing a list of points in time for which the model must make a prior prediction.</p></td>
</tr>

</table>

</div>






<div class="footer">
</div>

<div class="spacer">
</div>

<a name="_bottom"></a>

</body>

</html>
